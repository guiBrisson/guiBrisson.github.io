import{S as te,i as se,s as ae,k as x,a as M,q as P,e as X,l as E,m as h,h as c,c as S,r as j,n as e,b as H,D as r,J as G,K as Q,H as W,L as le,M as re,N as C,O as I,u as Y}from"../chunks/index.e4b580e2.js";const oe=[{label:"year",seconds:31536e3},{label:"month",seconds:2592e3},{label:"week",seconds:604800},{label:"day",seconds:86400},{label:"hour",seconds:3600},{label:"minute",seconds:60},{label:"second",seconds:1}];function Z(i){const s=Math.floor((new Date().valueOf()-new Date(i).valueOf())/1e3),{interval:t,unit:o}=ne(s);return`${t} ${o}${t===1?"":"s"} ago`}const ne=i=>{for(let{label:s,seconds:t}of oe){const o=Math.floor(i/t);if(o>=1)return{interval:o,unit:s}}return{interval:0,unit:""}};function $(i,s,t){const o=i.slice();return o[5]=s[t],o}function ee(i){let s,t,o,d=Z(i[5].createdAt)+"",m,A,b,f,_,w,O,D,p,N,g,k,n,a,u,l=i[5].content+"",T,L;return{c(){s=x("div"),t=x("div"),o=x("span"),m=P(d),A=M(),b=x("div"),f=x("a"),_=C("svg"),w=C("path"),D=M(),p=x("form"),N=x("button"),g=C("svg"),k=C("path"),a=M(),u=x("span"),T=P(l),L=M(),this.h()},l(y){s=E(y,"DIV",{class:!0});var v=h(s);t=E(v,"DIV",{class:!0});var B=h(t);o=E(B,"SPAN",{class:!0});var R=h(o);m=j(R,d),R.forEach(c),A=S(B),b=E(B,"DIV",{class:!0});var V=h(b);f=E(V,"A",{href:!0,role:!0,class:!0});var q=h(f);_=I(q,"svg",{xmlns:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0,class:!0});var F=h(_);w=I(F,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),h(w).forEach(c),F.forEach(c),q.forEach(c),D=S(V),p=E(V,"FORM",{class:!0,action:!0,method:!0});var U=h(p);N=E(U,"BUTTON",{type:!0,class:!0});var z=h(N);g=I(z,"svg",{xmlns:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0,class:!0});var J=h(g);k=I(J,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),h(k).forEach(c),J.forEach(c),z.forEach(c),U.forEach(c),V.forEach(c),B.forEach(c),a=S(v),u=E(v,"SPAN",{class:!0});var K=h(u);T=j(K,l),K.forEach(c),L=S(v),v.forEach(c),this.h()},h(){e(o,"class","text-sm text-gray-400"),e(w,"stroke-linecap","round"),e(w,"stroke-linejoin","round"),e(w,"d","M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L10.582 16.07a4.5 4.5 0 01-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 011.13-1.897l8.932-8.931zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0115.75 21H5.25A2.25 2.25 0 013 18.75V8.25A2.25 2.25 0 015.25 6H10"),e(_,"xmlns","http://www.w3.org/2000/svg"),e(_,"fill","none"),e(_,"viewBox","0 0 24 24"),e(_,"stroke-width","1.5"),e(_,"stroke","currentColor"),e(_,"class","w-5 h-5 stroke-blue-600"),e(f,"href",O="/"+i[5].id),e(f,"role","button"),e(f,"class",""),e(k,"stroke-linecap","round"),e(k,"stroke-linejoin","round"),e(k,"d","M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"),e(g,"xmlns","http://www.w3.org/2000/svg"),e(g,"fill","none"),e(g,"viewBox","0 0 24 24"),e(g,"stroke-width","1.5"),e(g,"stroke","currentColor"),e(g,"class","w-5 h-5 stroke-red-500"),e(N,"type","submit"),e(N,"class",""),e(p,"class",""),e(p,"action",n="?/deleteNote&id="+i[5].id),e(p,"method","POST"),e(b,"class","flex space-x-4"),e(t,"class","flex place-items-baseline justify-between"),e(u,"class",""),e(s,"class","flex flex-col mt-6 w-full bg-white p-4 drop-shadow-md")},m(y,v){H(y,s,v),r(s,t),r(t,o),r(o,m),r(t,A),r(t,b),r(b,f),r(f,_),r(_,w),r(b,D),r(b,p),r(p,N),r(N,g),r(g,k),r(s,a),r(s,u),r(u,T),r(s,L)},p(y,v){v&2&&d!==(d=Z(y[5].createdAt)+"")&&Y(m,d),v&2&&O!==(O="/"+y[5].id)&&e(f,"href",O),v&2&&n!==(n="?/deleteNote&id="+y[5].id)&&e(p,"action",n),v&2&&l!==(l=y[5].content+"")&&Y(T,l)},d(y){y&&c(s)}}}function ce(i){let s,t,o,d,m,A,b,f,_,w,O,D,p,N,g,k=i[1],n=[];for(let a=0;a<k.length;a+=1)n[a]=ee($(i,k,a));return{c(){s=x("form"),t=x("textarea"),o=M(),d=x("div"),m=x("span"),A=x("span"),b=P("esc"),f=P("to discard"),_=M(),w=x("button"),O=P("Create"),D=M();for(let a=0;a<n.length;a+=1)n[a].c();p=X(),this.h()},l(a){s=E(a,"FORM",{class:!0,action:!0,method:!0});var u=h(s);t=E(u,"TEXTAREA",{class:!0,id:!0,name:!0,placeholder:!0}),h(t).forEach(c),o=S(u),d=E(u,"DIV",{class:!0});var l=h(d);m=E(l,"SPAN",{});var T=h(m);A=E(T,"SPAN",{class:!0});var L=h(A);b=j(L,"esc"),L.forEach(c),f=j(T,"to discard"),T.forEach(c),_=S(l),w=E(l,"BUTTON",{class:!0,type:!0});var y=h(w);O=j(y,"Create"),y.forEach(c),l.forEach(c),u.forEach(c),D=S(a);for(let v=0;v<n.length;v+=1)n[v].l(a);p=X(),this.h()},h(){e(t,"class","p-3 w-full bg-white max-h-80 min-h-[50px]"),e(t,"id","content"),e(t,"name","content"),e(t,"placeholder","Type your note here..."),e(A,"class","px-1 bg-gray-200 rounded-md mx-1"),e(w,"class","bg-blue-600 text-white px-2 rounded-md"),e(w,"type","submit"),e(d,"class","flex justify-between p-3 items-center bg-gray-100 w-full"),e(s,"class","drop-shadow-md"),e(s,"action","?/createNote"),e(s,"method","POST")},m(a,u){H(a,s,u),r(s,t),G(t,i[0]),r(s,o),r(s,d),r(d,m),r(m,A),r(A,b),r(m,f),r(d,_),r(d,w),r(w,O),H(a,D,u);for(let l=0;l<n.length;l+=1)n[l]&&n[l].m(a,u);H(a,p,u),N||(g=[Q(t,"input",i[4]),Q(t,"keydown",i[2])],N=!0)},p(a,[u]){if(u&1&&G(t,a[0]),u&2){k=a[1];let l;for(l=0;l<k.length;l+=1){const T=$(a,k,l);n[l]?n[l].p(T,u):(n[l]=ee(T),n[l].c(),n[l].m(p.parentNode,p))}for(;l<n.length;l+=1)n[l].d(1);n.length=k.length}},i:W,o:W,d(a){a&&c(s),a&&c(D),le(n,a),a&&c(p),N=!1,re(g)}}}function ie(i,s,t){let o,{data:d}=s,m="";const A=f=>{f.key==="Escape"&&t(0,m="")};function b(){m=this.value,t(0,m)}return i.$$set=f=>{"data"in f&&t(3,d=f.data)},i.$$.update=()=>{i.$$.dirty&8&&t(1,{notes:o}=d,o)},[m,o,A,d,b]}class de extends te{constructor(s){super(),se(this,s,ie,ce,ae,{data:3})}}export{de as default};
